"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.withConnectionCursor = void 0;
const graphql_mongoose_loader_1 = require("@entria/graphql-mongoose-loader");
const withConnectionCursor = (model, loader, condFn) => (...params) => {
    const { conditions = {}, sort = {} } = condFn(...params);
    const [context, args] = params;
    const cursor = model.find(conditions).sort(sort);
    return (0, graphql_mongoose_loader_1.connectionFromMongoCursor)({
        cursor,
        context,
        args,
        loader: loader,
    });
};
exports.withConnectionCursor = withConnectionCursor;
//# sourceMappingURL=withConnectionCursor.js.map